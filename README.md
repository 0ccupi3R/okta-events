# Okta Event Collector
Pulls events from Okta and sends them to Sumo Logic.
*NOTE* As of Sep 2017, this repo is deprecated. Please use our official collection [method](https://help.sumologic.com/Send-Data/Applications-and-Other-Data-Sources/Okta/Collect-Okta-Logs) to collect Okta events. 

# Prerequisites
- Python 2.6 works, but 2.7 is recommended.
- Python libraries listed at the beginning of `oktaEvents.py`
 
# Manual Test
`python oktaEvents.py <orgid/subdomain> <token> <relative_cutoff_seconds>`

- `orgid/subdomain` appears before `.okta.com` in the URL that you use to access
  the Okta UI in your browser.
- `token` is an API token generated by a user with permissions to read events.
- `relative_cutoff_seconds` is the number of seconds before now (when you run the
  script) to start collecting events from.

# Setup
Create a [Script Source](https://help.sumologic.com/Send_Data/Sources/Script_Source)
in Sumo Logic with the following settings:

- **Frequency**: Every 5 minutes
- **Command**: /usr/bin/python
- **Script**: `python oktaEvents.py <orgid/subdomain> <token> <relative_cutoff_seconds>`
  - `relative_cutoff_seconds` should be equal to the frequency you choose.  For
    5 minutes, this value would be 300.
